# inventory/hosts.ini
# KubeOS / kubedos cluster inventory
#
# IMPORTANT:
# - We connect as user "ansible" (NOT todd, NOT root)
# - We sudo via become
# - k8s_node_ip is defined per-host in inventory/host_vars/*.yml
# - Kubernetes binds to your primary/public LAN (10.100.10.x) not wg planes.

[all:vars]
ansible_user=ansible
ansible_become=true
ansible_become_method=sudo
ansible_ssh_private_key_file=~/.ssh/id_ed25519
ansible_ssh_common_args=-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ServerAliveInterval=30 -o ServerAliveCountMax=4

# Optional: if you use a non-default python
# ansible_python_interpreter=/usr/bin/python3

# ---------------------------------------------
# CONTROL PLANE NODES
# ---------------------------------------------
[cp]
cp-1.unixbox.net
cp-2.unixbox.net
cp-3.unixbox.net

# ---------------------------------------------
# ETCD NODES
# ---------------------------------------------
[etcd]
etcd-1.unixbox.net
etcd-2.unixbox.net
etcd-3.unixbox.net

# ---------------------------------------------
# LOAD BALANCERS
# ---------------------------------------------
[lb]
lb-1.unixbox.net
lb-2.unixbox.net
lb-3.unixbox.net

# ---------------------------------------------
# WORKERS
# ---------------------------------------------
[workers]
w-1.unixbox.net
w-2.unixbox.net
w-3.unixbox.net

# ---------------------------------------------
# MONITORING / STORAGE
# ---------------------------------------------
[monitoring]
prometheus.unixbox.net
grafana.unixbox.net

[storage]
storage.unixbox.net

# ---------------------------------------------
# META GROUPS
# ---------------------------------------------
[kubernetes:children]
cp
workers

[cluster:children]
cp
etcd
lb
workers
monitoring
storage

